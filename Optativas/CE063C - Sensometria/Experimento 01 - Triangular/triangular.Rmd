---
title: "TESTE TRIANGULAR"
author: "Willian Meira Schlichta GRR20159077"
date: "23 de setembro de 2018"
output: html_document
bibliography: referencias.bib
---

```{r setup, include=FALSE}
library(sensR)
library(FactoMineR)
library(SensoMineR)
knitr::opts_chunk$set(echo = TRUE)
```

**Teste Triangular**

É um dos teste mais utilizados, devido a sua simplicidade de interpretação e de delineamento. Neste teste cada provador recebe simultaneamente três amostras previamente codificadas, casualizadas e balanceadas, sendo duas iguais e uma diferente. Cabe ao avaliador identificar a amostra diferente. Nesse teste a escolha é forçada, ou seja, o avaliador deve apresentar uma resposta, mesmo que ele não tenha percebido a diferença. 

Os testes triangulares apresentam como vantagem, a menor probabilidade de acertar ao acaso ($1/3$) e diferenciar as amostras de maneira global e como desvantagens, serem pouco práticos para um número elevado de amostras (tratamentos) e serem potencialmente afetados pela fadiga sensorial dos provadores (@meilgaard3sensory). 

O Teste Triagular pode ser realizado para medir *diferença* ou *similaridade* de um produto. Para testar a diferença buscamos minimizar $\alpha$, e consequentemente diminuindo o Erro Tipo I. Já no teste de similaridade queremos maximizar $1 - \beta$ diminuindo a chance de decidirmos incorretamente que as amostras são similares, quando na realidade elas são diferentes (Erro Tipo II). 


Em nosso caso realizamos o Teste de Diferença.

**Objetivo e estatísticas do teste**

O objetivo do nosso teste foi avaliar se existe diferença significativa de sabor entre duas marcas de refrigerantes de limão, ou seja, queremos minimizar o erro $\beta$ (probabilidade de não rejeitar a hipótese nula quando ela é falsa).

A estatística do teste é baseada no teste binomial onde foi formulado as seguintes hipóstes:

  $H_0$: Não há diferenças sensoriais entre os produtos

  $H_1$: Há diferenças sensoriais entre os produtos.


**Descrição do experimento realizado**

O teste foi aplicado para 24 avaliadores não treinados, onde cada um recebeu 3 amostras de refrigerante, sendo que sempre haviam 2 produtos iguais e 1 diferente. Foram orientados a provar um de cada vez, intercalando com copo de aguá, no sentido da esquerda para a direita, obrigatoriamente, afim de indetificar o produto diferente. Caso permanecesse com dúvida após a primeira prova, poderiam então provar em qualquer ordem. Após a identificação registrava-se o resultado na ficha específica do teste Triangular. 

As amostras foram codificadas com o auxílio da função *"sample"* do Software *R*, para que fossem gerados números aleatórios de 3 algarismos, e foram casualizadas e balanceadas pela função *"triangle.design"* gerando as seguintes combinações: AAB / ABA / BAA / BBA / BAB / ABB.

```{r eval = FALSE, echo = TRUE, results = "markup"}
sample(100:999,3)
```
```{r eval = TRUE, echo = TRUE, results = "markup"}
head(triangle.design(2,25,labprod = c("A","B")))
```

**Resultados Obtidos**

Dos 24 avaliadores, foram obtidos 16 acertos e 8 erros a amostra diferente, sendo que para mostrar um grau de diferença significativa, 13 acertos já seriam suficiente. Lembrando que ao informar os resultados do experimento aos avaliadores, 2 deles que acertaram, informaram terem *"chutado"*" a resposta.

**Analisando os resultados obtidos**

Iniciamos a análise dos teste com a função *"triangle.pair.test"*, obtendo os resultados a sequir:

para analisar os resultados do teste triangular, nos mostrou que $13$ respostas corretas são suficientes para detectar uma diferença.
```{r eval = FALSE, echo = TRUE, results = "hide"}
triangle.pair.test(16,24)
```
```{r eval = TRUE, echo = FALSE, results = "hide"}
teste01 <-triangle.pair.test(16,24)
```
```{r eval = TRUE, echo = FALSE, results = "markup"}
teste01
```

```{r eval = TRUE, echo = FALSE, results = "markup"}
discrim(correct = 16,total = 24,method = 'triangle',test = 'difference')

```
  
  
 Mostrou também um $d-prime = 2,3214$, que quando maior que 1, visto que não temos um valor histórico para comparar, significa um estímulo forte, ou seja, os alunos/provadores conseguem preceber diferenças entres as amostras. Para finalizar, o $p-valor = 0.00086$, ao nível significativa de $0.05$,mostra que $h_0$, a hipótese de que não há diferença sensoriais entre os produtos, foi rejeitada.

**Definindo tamanho da amostra**
```{r}
discrimSS(pdA = 0.50,target.power = 0.80,alpha = 0.05,pGuess = 1/3)
```

Embora não tenhamos feito está etapa neste experimento, pois utilizamos os alunos disponíveis em sala de aula, através da função "discrimSS" é possível definir o tamanho da amostra necessária. Por exemplo: para um poder do teste de $(1-\beta)$ $0.80$, a amostra seria de $16$ avaliadores.

**Avaliando o poder do teste**
```{r}
discrimPwr(pdA = 0.50,sample.size = 24,alpha = 0.05,pGuess = 1/3,test = "difference")
```

Utilizando a função "discrimPwr" descobrimos que as $24$ amostras utilizadas nos trouxeram um poder do teste de $0.9323$.


**Conclusão**

Com 93% de certeza, concluímos que os refrigerantes de limão - Sprite e Soda, tem diferenças sensoriais significativas.


## Referências: 
